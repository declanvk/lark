A demand-based query system that acts as the core of the Lark compiler.